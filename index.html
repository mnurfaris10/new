<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Matchalant â€“ Menu</title>
<style>
:root{--orange:#ff5a00;--cream:#fff2e5;--dark:#2b2b2b}
body{margin:0;font-family:Arial,sans-serif;background:var(--cream);color:var(--dark)}
header{background:var(--orange);color:#fff;padding:20px;text-align:center;font-weight:bold}
.container{max-width:1100px;margin:20px auto;padding:16px}
.menu-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px}
.card{background:#fff;border-radius:18px;box-shadow:0 6px 14px rgba(0,0,0,.15);overflow:hidden}
.card img{width:100%;height:160px;object-fit:cover}
.card-body{padding:14px}
.item-name{font-weight:bold;font-size:16px}
.price{color:var(--orange);font-weight:bold;margin:6px 0}
.qty{display:flex;justify-content:space-between;align-items:center;margin-top:10px}
input[type=number]{width:70px;padding:6px;border-radius:8px;border:1px solid #ccc}
.footer{position:sticky;bottom:0;background:#fff;padding:16px;box-shadow:0 -4px 10px rgba(0,0,0,.15);display:flex;justify-content:space-between;align-items:center}
button{background:var(--orange);color:#fff;border:none;padding:14px 26px;border-radius:30px;font-size:16px;cursor:pointer}
</style>
</head>
<body>
<header>Matchalant Menu</header>
<div class="container">
  <div class="menu-grid" id="menu"></div>
</div>
<div class="footer">
  <div><b>Grand Total:</b> MYR <span id="grandTotal">0</span></div>
  <button onclick="checkout()">Checkout</button>
</div>

<!-- WhatsApp button (original, tak ubah) -->
<div style="text-align:center; margin-top:20px;">
  <a href="https://wa.me/60176139572" target="_blank" style="display:inline-block; padding:10px 20px; background-color:#25D366; color:white; border-radius:8px; text-decoration:none; font-weight:bold; font-size:16px;">
    Chat WhatsApp
  </a>
</div>

<script>
const menuItems=[
  {name:'Matcha Latte',price:8,img:'matcha.jpg'},
  {name:'Strawberry Matcha',price:10,img:'m.strawberry.jpg'},
  {name:'Beng-Beng Matcha Latte',price:11,img:'beng.jpg'},
  {name:'Latte Ice',price:7,img:'icelatte.jpg'},
  {name:'Beng-Beng Latte',price:5,img:'beng.jpg'},
  {name:'Strawberry Beng-Beng',price:6,img:'s.beng.jpg'}
];

// Persistent cart
let cart = JSON.parse(localStorage.getItem('cartItems')) || [];

function render(){
  let html = '';
  menuItems.forEach(item => {
    let found = cart.find(c => c.name === item.name);
    let qty = found ? found.qty : 0;
    html += `<div class='card'>
      <img src='${item.img}'>
      <div class='card-body'>
        <div class='item-name'>${item.name}</div>
        <div class='price'>MYR ${item.price}</div>
        <div class='qty'>Qty <input type='number' min='0' value='${qty}' onchange='updateCart("${item.name}",${item.price},this.value)'></div>
      </div>
    </div>`;
  });
  document.getElementById('menu').innerHTML = html;
  updateTotal();
}

function updateCart(name, price, qty){
  qty = parseInt(qty);
  cart = cart.filter(i => i.name !== name);
  if(qty > 0) cart.push({name, price, qty});
  localStorage.setItem('cartItems', JSON.stringify(cart));
  updateTotal();
}

function updateTotal(){
  let total = 0;
  cart.forEach(i => total += i.price * i.qty);
  document.getElementById('grandTotal').innerText = total;
  localStorage.setItem('grandTotal', total);
}

function checkout(){
  updateTotal();
  window.location='checkout.html';
}

render();
</script>
</body>
</html>
